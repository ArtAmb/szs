<head th:replace="mainMenu :: head"> </head>

<body>

    <div th:replace="mainMenu :: mainMenu"> </div>

    <div id="search-patient-view" class="content">
        <div id="patient-searcher-div">
            <label>Pacjent </label>
        </div>

        <br/>
        <br/>

        <button  id="showDetails" class="simplebutton detail_button">Szczegoly</button>
        <a class="simplebutton detail_button" th:href="@{'/view/patients'}">Wroc</a>
        

        <script th:inline='javascript'>
            var options = {
                isRequired: true,
                isDTOValue: true,
                name: 'patientId',
                buildOptionDataFunc: function (optionTag, dto) { }
            };
            searcher.buildSearcher($("#patient-searcher-div"), "patient-searcher", "/searcher/patient/query", options);
            

            $("#showDetails").click(function () {
                if (tools.validation('patient-searcher-div')) {

                    var patientDto = tools.tagInputsToDTO("patient-searcher-div");  
                    window.location.href = "/view/patient/" + patientDto.patientId + "/detail";               
                   
                } else {
                    alert('Brak takiego pacjenta');
                }
            });


        </script>


    </div>
    <div th:replace="mainMenu :: footer"> </div>
</body>